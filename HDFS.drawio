<mxfile host="app.diagrams.net" modified="2021-05-22T08:49:12.370Z" agent="5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36" etag="YVEZLKx18U375Y6PjNZq" version="14.6.13" type="github" pages="7">
  <diagram id="ly2ooe9w6-Pa7oqlMoro" name="NameNode">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ha4TE4l5QeBn7lYoLzAS-1" target="ha4TE4l5QeBn7lYoLzAS-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ha4TE4l5QeBn7lYoLzAS-1" target="ha4TE4l5QeBn7lYoLzAS-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-1" value="NameNode" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-2" value="HttpServer" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ha4TE4l5QeBn7lYoLzAS-4" target="ha4TE4l5QeBn7lYoLzAS-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ha4TE4l5QeBn7lYoLzAS-4" target="ha4TE4l5QeBn7lYoLzAS-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-4" value="RpcServer" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-7" value="serviceRpcServer" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="250" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ha4TE4l5QeBn7lYoLzAS-10" value="clientRpcServer" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="480" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RKNqn7NyVi2s0vq0bVoF" name="NameNode联邦">
    <mxGraphModel dx="1773" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="gmCoTBchSWpw36qI7Mmh-0" />
        <mxCell id="gmCoTBchSWpw36qI7Mmh-1" parent="gmCoTBchSWpw36qI7Mmh-0" />
        <mxCell id="B1KEJI9ywLASDL8doi5c-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-4" target="B1KEJI9ywLASDL8doi5c-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="160" y="80" width="260" height="300" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-0" target="B1KEJI9ywLASDL8doi5c-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-0" value="NameNode&lt;br&gt;active" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="230" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-1" target="B1KEJI9ywLASDL8doi5c-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-1" value="NameNode&lt;br&gt;standby" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="230" y="260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-5" value="NamingService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="270" y="100" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-6" target="SfHE6blUwgNnkiZhLA7p-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-6" target="SfHE6blUwgNnkiZhLA7p-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-6" value="DataNode" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="230" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-7" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="490" y="80" width="260" height="300" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-10" value="NamingService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="600" y="100" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-13" target="SfHE6blUwgNnkiZhLA7p-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="gmCoTBchSWpw36qI7Mmh-1" source="SfHE6blUwgNnkiZhLA7p-13" target="SfHE6blUwgNnkiZhLA7p-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SfHE6blUwgNnkiZhLA7p-13" value="DataNode" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="560" y="450" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" source="B1KEJI9ywLASDL8doi5c-3" target="B1KEJI9ywLASDL8doi5c-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-0" value="对应源码中的BPServiceActor" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="20" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-3" value="对应源码中的BPofferService" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="20" y="20" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-5" value="对应源码中的BPServiceActor" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="20" y="260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-7" value="NameNode&lt;br&gt;active" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="560" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-8" value="NameNode&lt;br&gt;standby" style="rounded=1;whiteSpace=wrap;html=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="560" y="260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-9" value="BlockPool" style="whiteSpace=wrap;html=1;rounded=1;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="-180" y="135" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="B1KEJI9ywLASDL8doi5c-12" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 11px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(255, 255, 255); display: inline; float: none;&quot;&gt;一组NameNode对应一个BlockPool&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="gmCoTBchSWpw36qI7Mmh-1" vertex="1">
          <mxGeometry x="-140" y="20" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="2rJtLGrft4Dv6qSumuWv" name="NameNode HA">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-0" />
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-1" parent="2uGY-DxSNQjP9tnZGcsS-0" />
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-2" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="100" y="130" width="300" height="390" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-3" value="Active NameNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="180" y="140" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-4" target="2uGY-DxSNQjP9tnZGcsS-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-4" target="2uGY-DxSNQjP9tnZGcsS-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-4" target="2uGY-DxSNQjP9tnZGcsS-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-4" target="2uGY-DxSNQjP9tnZGcsS-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-4" value="内存editslog&lt;br&gt;树形结构" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="120" y="227.5" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-5" target="2uGY-DxSNQjP9tnZGcsS-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-37" value="HttpUrlConnection&lt;br&gt;输出流" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-36">
          <mxGeometry x="0.3584" y="2" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-5" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="456" y="120" width="284" height="300" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-6" value="JournalNode" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="538" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-7" value="JournalNode" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="538" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-8" value="JournalNode" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="540" y="300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-11" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="30" y="550" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-12" value="磁盘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="110" y="570" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-13" value="editslog" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="95" y="595" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="870" y="110" width="430" height="260" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-16" value="standby NameNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="990" y="140" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-18" target="2uGY-DxSNQjP9tnZGcsS-19">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1010" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-18" target="2uGY-DxSNQjP9tnZGcsS-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-18" value="内存editslog&lt;br&gt;树形结构" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1015" y="200" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-19" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="880" y="470" width="330" height="190" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-20" value="磁盘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="960" y="490" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-21" value="editslog" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="945" y="515" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-24" target="2uGY-DxSNQjP9tnZGcsS-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-30" value="异步发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-27">
          <mxGeometry x="-0.003" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-24" value="thread" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="250" y="175" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-25" target="2uGY-DxSNQjP9tnZGcsS-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-31" value="异步发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-28">
          <mxGeometry x="-0.0857" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-25" value="thread" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="250" y="227.5" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-26" target="2uGY-DxSNQjP9tnZGcsS-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-32" value="异步发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-29">
          <mxGeometry x="-0.2358" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-26" value="thread" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="250" y="280" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-38" target="2uGY-DxSNQjP9tnZGcsS-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-48" value="接收到image后写入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-47">
          <mxGeometry x="-0.0273" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-38" value="HttpServer" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="190" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-56" target="2uGY-DxSNQjP9tnZGcsS-58">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1080" y="640" as="sourcePoint" />
            <mxPoint x="330" y="540" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1070" y="630" />
              <mxPoint x="320" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-42" value="HttpUrlConnection&lt;br&gt;输出流将fsimage异步传输到active NameNode" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-41">
          <mxGeometry x="-0.2395" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-40" target="2uGY-DxSNQjP9tnZGcsS-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-40" value="fsimage" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1060" y="515" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-43" target="2uGY-DxSNQjP9tnZGcsS-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-43" value="checkpoint" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1090" y="262.5" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-46" value="还没写入fsimage的editslog超过100万条或&lt;br&gt;上次执行checkpoint间隔大于1小时，&lt;br&gt;则执行checkpoint" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1150" y="400" width="250" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-49" target="2uGY-DxSNQjP9tnZGcsS-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-49" value="EditLogTailer" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="890" y="180" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-49" target="2uGY-DxSNQjP9tnZGcsS-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-23" value="每隔60s拉取" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2uGY-DxSNQjP9tnZGcsS-22">
          <mxGeometry x="-0.2276" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-52" target="2uGY-DxSNQjP9tnZGcsS-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-52" value="StandbyCheckpointer" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1130" y="130" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-56" value="thread" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="1070" y="610" width="70" height="45" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="2uGY-DxSNQjP9tnZGcsS-1" source="2uGY-DxSNQjP9tnZGcsS-58" target="2uGY-DxSNQjP9tnZGcsS-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2uGY-DxSNQjP9tnZGcsS-58" value="ImageServlet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2uGY-DxSNQjP9tnZGcsS-1">
          <mxGeometry x="260" y="430" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="50SD9rZ9KF6gQCeuuli5" name="edits log">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-0" />
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-1" parent="cE-_N8j65lr3B1sfKoRZ-0" />
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-2" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="240" y="140" width="370" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-3" value="元数据&lt;br&gt;内存" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="405" y="150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-5" target="cE-_N8j65lr3B1sfKoRZ-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-5" value="editlog" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="312" y="180" width="86" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-6" value="currentBuffer" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="280" y="265" width="110" height="55" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-7" value="readyBuffer" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="430" y="260" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-8" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="240" y="445" width="370" height="165" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-9" value="磁盘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="420" y="445" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-10" value="flush" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-11" target="cE-_N8j65lr3B1sfKoRZ-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-11" value="editlog" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="307" y="520" width="98" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-12" value="fsimage" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="470" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-6" target="cE-_N8j65lr3B1sfKoRZ-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="313" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-14" value="" style="curved=1;endArrow=classic;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="350" as="sourcePoint" />
            <mxPoint x="390" y="350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="470" y="410" />
              <mxPoint x="420" y="410" />
              <mxPoint x="400" y="380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-15" value="swap" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cE-_N8j65lr3B1sfKoRZ-14" vertex="1" connectable="0">
          <mxGeometry x="-0.0466" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-16" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="780" y="140" width="370" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-17" value="元数据&lt;br&gt;内存" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="945" y="150" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-19" target="cE-_N8j65lr3B1sfKoRZ-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-19" value="editlog" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="852" y="180" width="86" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-20" value="currentBuffer" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="820" y="265" width="110" height="55" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-21" value="readyBuffer" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="970" y="260" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-22" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="780" y="445" width="370" height="165" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-23" value="磁盘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="960" y="445" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-24" value="flush" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-25" target="cE-_N8j65lr3B1sfKoRZ-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-25" value="editlog" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="847" y="520" width="98" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-26" value="fsimage" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="1010" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-20" target="cE-_N8j65lr3B1sfKoRZ-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="853" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-28" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.67;dx=20;notch=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="660" y="370" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-30" target="cE-_N8j65lr3B1sfKoRZ-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-30" value="从threadlocal中获取txid" style="rounded=1;whiteSpace=wrap;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="540" y="740" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-32" target="cE-_N8j65lr3B1sfKoRZ-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-32" value="synchronized加锁" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="540" y="880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-37" target="cE-_N8j65lr3B1sfKoRZ-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-34" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cE-_N8j65lr3B1sfKoRZ-33" vertex="1" connectable="0">
          <mxGeometry x="0.0222" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-37" target="cE-_N8j65lr3B1sfKoRZ-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-36" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cE-_N8j65lr3B1sfKoRZ-35" vertex="1" connectable="0">
          <mxGeometry x="-0.1067" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-37" value="mytxid &amp;gt; synctxid &amp;amp;&amp;amp; isSyncRunning" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="510" y="1010" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-39" target="cE-_N8j65lr3B1sfKoRZ-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="980" as="targetPoint" />
            <Array as="points">
              <mxPoint x="980" y="960" />
              <mxPoint x="640" y="960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-39" value="&lt;span&gt;wait(1000)&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="920" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-44" target="cE-_N8j65lr3B1sfKoRZ-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-41" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cE-_N8j65lr3B1sfKoRZ-40" vertex="1" connectable="0">
          <mxGeometry x="0.4267" y="-3" relative="1" as="geometry">
            <mxPoint x="-37" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-44" target="cE-_N8j65lr3B1sfKoRZ-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-43" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cE-_N8j65lr3B1sfKoRZ-42" vertex="1" connectable="0">
          <mxGeometry x="-0.1111" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-44" value="mytxid &amp;lt;= synctxid" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="510" y="1200" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-45" value="return" style="whiteSpace=wrap;html=1;rounded=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="920" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-47" target="cE-_N8j65lr3B1sfKoRZ-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-47" value="交换editslog内存缓冲区" style="whiteSpace=wrap;html=1;rounded=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="550" y="1360" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" source="cE-_N8j65lr3B1sfKoRZ-49" target="cE-_N8j65lr3B1sfKoRZ-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-49" value="结束synchronized加锁" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="565" y="1515" width="150" height="65" as="geometry" />
        </mxCell>
        <mxCell id="cE-_N8j65lr3B1sfKoRZ-50" value="刷盘" style="whiteSpace=wrap;html=1;rounded=1;" parent="cE-_N8j65lr3B1sfKoRZ-1" vertex="1">
          <mxGeometry x="580" y="1655" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="MJSU9b7V-3q89Bn1Lo-L" name="上传文件">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-0" />
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-1" parent="ow1fbQ_gSxQvm8uaaiEH-0" />
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-2" target="ow1fbQ_gSxQvm8uaaiEH-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="354" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-7" value="上传文件test.txt&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ow1fbQ_gSxQvm8uaaiEH-6" vertex="1" connectable="0">
          <mxGeometry x="0.0167" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-2" value="client" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="80" y="120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-3" target="ow1fbQ_gSxQvm8uaaiEH-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-9" value="添加到内存结构" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ow1fbQ_gSxQvm8uaaiEH-8" vertex="1" connectable="0">
          <mxGeometry x="0.2714" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1.011;exitY=0.608;exitDx=0;exitDy=0;exitPerimeter=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-3" target="ow1fbQ_gSxQvm8uaaiEH-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-22" value="申请block" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ow1fbQ_gSxQvm8uaaiEH-21" vertex="1" connectable="0">
          <mxGeometry x="0.0106" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-3" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="300" y="100" width="390" height="260" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-4" target="ow1fbQ_gSxQvm8uaaiEH-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="830" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=-0.012;exitY=0.86;exitDx=0;exitDy=0;exitPerimeter=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-24" value="返回blockId,在哪几个DataNode中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ow1fbQ_gSxQvm8uaaiEH-23" vertex="1" connectable="0">
          <mxGeometry x="-0.0325" y="-1" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="900" y="90" width="180" height="250" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-10" target="ow1fbQ_gSxQvm8uaaiEH-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-10" target="ow1fbQ_gSxQvm8uaaiEH-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-10" value="root" style="whiteSpace=wrap;html=1;rounded=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1280" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="ow1fbQ_gSxQvm8uaaiEH-12" target="ow1fbQ_gSxQvm8uaaiEH-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-12" value="directory" style="whiteSpace=wrap;html=1;rounded=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1200" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-14" value="file" style="whiteSpace=wrap;html=1;rounded=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1360" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-17" value="test.txt" style="whiteSpace=wrap;html=1;rounded=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1200" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-19" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;DFSClient&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="410" y="100" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ow1fbQ_gSxQvm8uaaiEH-20" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;NameNode&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="970" y="100" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-0" target="_3F9UkVPll6OcqyQsOR7-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-67" value="读取" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-66" vertex="1" connectable="0">
          <mxGeometry y="-3" relative="1" as="geometry">
            <mxPoint x="1" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-0" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="345" y="210" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-1" value="packet" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="355" y="230" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-2" value="dataQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="415" y="210" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-3" value="&lt;span&gt;packet&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="409" y="230" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-4" value="&lt;span&gt;packet&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="465" y="230" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-5" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="343" y="290" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-6" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="353" y="310" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-7" value="ackQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="413" y="290" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-8" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="407" y="310" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-9" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="463" y="310" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-11" target="_3F9UkVPll6OcqyQsOR7-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-75" value="建立管道" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-73" vertex="1" connectable="0">
          <mxGeometry x="-0.1264" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-11" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="313" y="450" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-12" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;DataNode&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="408" y="460" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-13" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="343" y="610" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-14" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="353" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-15" value="ackQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="413" y="610" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-16" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="407" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-17" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="463" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-18" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="345" y="770" width="205" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-19" value="磁盘" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="423" y="780" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-20" value="BLK01" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="360" y="815" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-21" value="BLK01_SUM" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="450" y="815" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-22" value="BLK02" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="360" y="860" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-23" value="BLK02_SUM" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="450" y="860" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-24" value="BLK03" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="363" y="910" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-25" value="BLK03_SUM" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="453" y="910" width="77" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-64" target="_3F9UkVPll6OcqyQsOR7-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="428" y="500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="625" y="370" />
              <mxPoint x="428" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-70" value="写入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-26" vertex="1" connectable="0">
          <mxGeometry x="-0.2548" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.015;entryY=0.295;entryDx=0;entryDy=0;entryPerimeter=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-28" target="_3F9UkVPll6OcqyQsOR7-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="540" />
              <mxPoint x="270" y="826" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-60" value="删除" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-28" target="_3F9UkVPll6OcqyQsOR7-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-62" value="返回response" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-28" target="_3F9UkVPll6OcqyQsOR7-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-28" value="BlockReciever" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="368" y="510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-32" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="334.5" y="130" width="197" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-33" value="packet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="398.5" y="130" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-34" value="chunk" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="353.5" y="150" width="38" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-35" value="sum" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="398.5" y="150" width="38" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-36" value="chunk" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="441.5" y="150" width="38" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-37" value="sum" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="486.5" y="150" width="38" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-38" target="_3F9UkVPll6OcqyQsOR7-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-76" value="建立管道" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-74" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-38" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="660" y="450" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-39" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;DataNode&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="764" y="460" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-40" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="699" y="610" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-41" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="709" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-42" value="ackQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="769" y="610" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-43" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="763" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-44" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="819" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-45" target="_3F9UkVPll6OcqyQsOR7-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-59" value="返回response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-58" vertex="1" connectable="0">
          <mxGeometry x="-0.1864" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-61" value="清空" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-45" target="_3F9UkVPll6OcqyQsOR7-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-45" value="BlockReciever" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="724" y="510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-46" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1040" y="450" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-47" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;DataNode&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1144" y="460" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-48" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1079" y="610" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-49" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1089" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-50" value="ackQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1149" y="610" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-51" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1143" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-52" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1199" y="630" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-53" value="BlockReciever" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="1104" y="510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-28" target="_3F9UkVPll6OcqyQsOR7-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-71" value="写入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-54" vertex="1" connectable="0">
          <mxGeometry x="0.0763" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-45" target="_3F9UkVPll6OcqyQsOR7-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-72" value="写入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-55" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-53" target="_3F9UkVPll6OcqyQsOR7-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-57" value="返回response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-56" vertex="1" connectable="0">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" source="_3F9UkVPll6OcqyQsOR7-64" target="_3F9UkVPll6OcqyQsOR7-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="250" />
              <mxPoint x="600" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-69" value="删除" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_3F9UkVPll6OcqyQsOR7-68" vertex="1" connectable="0">
          <mxGeometry x="-0.4039" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-64" value="Streamer" style="rounded=1;whiteSpace=wrap;html=1;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="590" y="190" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_3F9UkVPll6OcqyQsOR7-77" value="建立管道时还没有真正写入，只是将blockId发了过去，都成功时，DFSClient才会源源不断的将packet写入" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ow1fbQ_gSxQvm8uaaiEH-1" vertex="1">
          <mxGeometry x="640" y="390" width="275" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1ijsaW4hEvkIR9vu2Frf" name="检测block数量">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="24iPZ1HhAkUnCQL42odk-0" />
        <mxCell id="24iPZ1HhAkUnCQL42odk-1" parent="24iPZ1HhAkUnCQL42odk-0" />
        <mxCell id="24iPZ1HhAkUnCQL42odk-2" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="100" y="110" width="260" height="310" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-3" value="NameNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="210" y="120" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-5" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="567" y="110" width="260" height="310" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-6" value="DataNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="677" y="120" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-10" value="根据上报的block，检查block数量，如果不足，则下达block复制指令返回" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="155" y="250" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="tOoS7aRItsw5ssSmXlVh-0" value="上报线程" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="24iPZ1HhAkUnCQL42odk-1">
          <mxGeometry x="630" y="235" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="24iPZ1HhAkUnCQL42odk-1" source="tOoS7aRItsw5ssSmXlVh-0" target="24iPZ1HhAkUnCQL42odk-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="24iPZ1HhAkUnCQL42odk-1" source="24iPZ1HhAkUnCQL42odk-2" target="tOoS7aRItsw5ssSmXlVh-0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="24iPZ1HhAkUnCQL42odk-11" value="随下一次心跳返回block复制指令" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="24iPZ1HhAkUnCQL42odk-9">
          <mxGeometry x="0.0048" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Q3cSb4zsAMCq_6a0n-Rn" name="下载文件">
    <mxGraphModel dx="946" dy="528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="aiPBJr4H5fsCACifzG3K-0" />
        <mxCell id="aiPBJr4H5fsCACifzG3K-1" parent="aiPBJr4H5fsCACifzG3K-0" />
        <mxCell id="aiPBJr4H5fsCACifzG3K-2" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="220" y="110" width="260" height="320" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-3" value="DFSClient" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="330" y="120" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-4" target="aiPBJr4H5fsCACifzG3K-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-7" value="下载文件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="aiPBJr4H5fsCACifzG3K-5">
          <mxGeometry y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-4" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="40" y="240" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-8" target="aiPBJr4H5fsCACifzG3K-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-10" value="获取文件的block所在nn" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="aiPBJr4H5fsCACifzG3K-9">
          <mxGeometry x="0.0222" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-8" value="NameNode" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="707" y="150" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-11" target="aiPBJr4H5fsCACifzG3K-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="210" />
              <mxPoint x="250" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-11" value="new 输入流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="290" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-12" target="aiPBJr4H5fsCACifzG3K-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="354" y="460" />
              <mxPoint x="300" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-12" target="aiPBJr4H5fsCACifzG3K-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-12" target="aiPBJr4H5fsCACifzG3K-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-12" value="new 输出流" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="294" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-13" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="200" y="517" width="200" height="203" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-14" value="DataNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="280" y="520" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="460" y="520" width="200" height="203" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-16" value="DataNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="540" y="523" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-17" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="700" y="517" width="200" height="203" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-18" value="DataNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="780" y="520" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-20" target="aiPBJr4H5fsCACifzG3K-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-20" value="BlockSender" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="230" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="aiPBJr4H5fsCACifzG3K-1" source="aiPBJr4H5fsCACifzG3K-22" target="aiPBJr4H5fsCACifzG3K-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-22" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="220" y="650" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-23" value="packet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="220" y="660" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-24" value="packet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="280" y="660" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-25" value="packet" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="340" y="660" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aiPBJr4H5fsCACifzG3K-29" value="本地文件" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="aiPBJr4H5fsCACifzG3K-1">
          <mxGeometry x="30" y="370" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
